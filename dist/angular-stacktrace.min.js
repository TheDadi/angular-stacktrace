angular.module("angularStacktrace",[]),angular.module("angularStacktrace").provider("stacktrace",function(){this.options={type:"POST",url:null,contentType:"application/json"},this.setUrl=function(t){return function(r){return t.options.url=r,t}}(this),this.setType=function(t){return function(r){return t.options.type=r,t}}(this),this.$get=function(){return{getOption:function(t){return function(r){return t.options[r]}}(this)}}}).factory("traceService",function(){return{print:printStackTrace}}).factory("errorLogService",["$injector","$log","$window","stacktrace","traceService",function(t,r,n,e,o){return function(i){return function(u,a){var c,s,p,l;r.error.apply(r,arguments);try{if(s=u.toString(),p=o.print({e:u}),l=e.getOption("url"),!l)throw new Error("Cannot send exception report, please set url.")}catch(g){}return c=t.get("$http"),c({method:e.getOption("type"),url:e.getOption("url"),data:angular.toJson({message:s,stacktrace:JSON.stringify(p),userAgent:n.navigator.userAgent,url:n.location.href}),registrationUuid:!0,skipGlobalErrorHandler:!0}).then(function(t){return r.info(t)},function(t){return r.error(t)}),i(u,a)}}}]).config(["$provide",function(t){return t.decorator("$exceptionHandler",["$delegate","errorLogService",function(t,r){return r(t)}])}]);