angular.module("angularStacktrace",[]),angular.module("angularStacktrace").provider("stacktrace",function(){this.options={type:"POST",url:null,contentType:"application/json"},this.setUrl=function(t){return function(r){return t.options.url=r,t}}(this),this.setType=function(t){return function(r){return t.options.type=r,t}}(this),this.setUuid=function(t){return function(r){return t.options.uuid=r,t}}(this),this.$get=function(){return{getOption:function(t){return function(r){return t.options[r]}}(this)}}}).factory("traceService",function(){return{print:printStackTrace}}).factory("errorLogService",["$injector","$log","$window","stacktrace","traceService",function(t,r,n,e,o){return function(t){return function(i,u){var a,c,p,s,l;r.error.apply(r,arguments);try{if(p=i.toString(),s=o.print({e:i}),l=e.getOption("url"),!l)throw new Error("Cannot send exception report, please set url.");$.ajax({type:e.getOption("type"),url:e.getOption("url"),contentType:"application/json",data:angular.toJson({message:p,stacktrace:s,userAgent:n.navigator.userAgent,url:n.location.href,registrationUuid:e.getOption("uuid")})})}catch(c){a=c,r.error(a)}return t(i,u)}}}]).config(["$provide",function(t){return t.decorator("$exceptionHandler",["$delegate","errorLogService",function(t,r){return r(t)}])}]);